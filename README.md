
<!-- README.md is generated from README.Rmd. Please edit that file -->
[![Travis build status](https://travis-ci.org/USCCANA/socnet.svg?branch=master)](https://travis-ci.org/USCCANA/socnet)

[![Coverage status](https://codecov.io/gh/USCCANA/socnet/branch/master/graph/badge.svg)](https://codecov.io/github/USCCANA/socnet?branch=master)

socnet
======

This R package is created to access the data available in the SOCNET website <https://lists.ufl.edu/cgi-bin/wa?A0=SOCNET>, which is hosted by The University of Florida in its Listserv website.

Installation
------------

This package is currently under develoment and is only available by downloading the bleeding edge version. You can use `devtools` to get it:

``` r
devtools::install_github("USCCANA/socnet")
```

Example
-------

Before starts, let's first load the package.

``` r
library(socnet)
```

Suppose that you want to look at the SOCNET archives, but you don't know from where to start. You can use the function `socnet_list_archives` to get a list of the archives that are available in the Listserv.

``` r
# Getting the URLs to the archives per month
archives <- socnet_list_archives(cached = TRUE)
#> Using cached version of SOCNET Listserv
#> The cached version of SOCNET_ARCHIVES_WWW (https://lists.ufl.edu/cgi-bin/wa?A0=SOCNET) was last updated on 2017-11-22 15:20:18.
head(archives)
#>                                                    url          date
#> 1 https://lists.ufl.edu/cgi-bin/wa?A1=ind1711&L=SOCNET  November '17
#> 2 https://lists.ufl.edu/cgi-bin/wa?A1=ind1710&L=SOCNET   October '17
#> 3 https://lists.ufl.edu/cgi-bin/wa?A1=ind1709&L=SOCNET September '17
#> 4 https://lists.ufl.edu/cgi-bin/wa?A1=ind1708&L=SOCNET    August '17
#> 5 https://lists.ufl.edu/cgi-bin/wa?A1=ind1707&L=SOCNET      July '17
#> 6 https://lists.ufl.edu/cgi-bin/wa?A1=ind1706&L=SOCNET      June '17
```

Now that we have the list of archives, we can access one of them and list what are the subjects (emails) that show under that archive with the `socnet_list_subjects` function.

``` r
# What was discussed during Oct 17?: Getting the subjects during that time
subjects <- socnet_list_subjects(archives$url[1], cached = TRUE)
#> Using cached version of SOCNET Listserv
#> The cached version of SOCNET_ARCHIVES_WWW (https://lists.ufl.edu/cgi-bin/wa?A0=SOCNET) was last updated on 2017-11-22 15:20:18.
```

Let's take a look at the output

``` r
str(subjects)
#> 'data.frame':    46 obs. of  5 variables:
#>  $ url    : chr  "https://lists.ufl.edu/cgi-bin/wa?A2=ind1711&L=SOCNET&T=0&F=&S=&P=47265" "https://lists.ufl.edu/cgi-bin/wa?A2=ind1711&L=SOCNET&T=0&F=&S=&P=30390" "https://lists.ufl.edu/cgi-bin/wa?A2=ind1711&L=SOCNET&T=0&F=&S=&P=11432" "https://lists.ufl.edu/cgi-bin/wa?A2=ind1711&L=SOCNET&T=0&F=&S=&P=1027" ...
#>  $ subject: chr  "2018 Sunbelt Session on Urban Networks" "2nd CFP: Social Web for Disaster Management (SWDM'18)" "A couple of articles of potential interest: Climate change communication in Canada; Networks, social capital, a"| __truncated__ "Call for Papers: Special Issue on “Network Analysis of Political Power”" ...
#>  $ from   : chr  "Neal, Zachary <[log in to unmask]>" "yu-ru lin <[log in to unmask]>" "David Tindall <[log in to unmask]>" "Alina V. Vladimirova <[log in to unmask]>" ...
#>  $ date   : chr  "Mon, 20 Nov 2017 14:02:04 +0000" "Mon, 13 Nov 2017 19:57:46 -0500" "Tue, 7 Nov 2017 08:02:25 -0800" "Wed, 1 Nov 2017 18:32:03 +0300" ...
#>  $ size   : chr  "296 lines" "298 lines" "212 lines" "219 lines" ...
head(subjects[,-1])
#>                                                                                                                                 subject
#> 2                                                                                                2018 Sunbelt Session on Urban Networks
#> 3                                                                                 2nd CFP: Social Web for Disaster Management (SWDM'18)
#> 4 A couple of articles of potential interest: Climate change communication in Canada; Networks, social capital, and ecotourism in Ghana
#> 5                                                               Call for Papers: Special Issue on “Network Analysis of Political Power”
#> 6                                                     Call for Workshops Papers: SDS and FMEC 2018, Barcelona, Spain. April 23-26, 2018
#> 7                                                            CBNA Analytical Software Winter School - 8 January 2018 to 12 January 2018
#>                                        from
#> 2        Neal, Zachary <[log in to unmask]>
#> 3            yu-ru lin <[log in to unmask]>
#> 4        David Tindall <[log in to unmask]>
#> 5 Alina V. Vladimirova <[log in to unmask]>
#> 6       Yaser Jararweh <[log in to unmask]>
#> 7         Bruce Cronin <[log in to unmask]>
#>                              date       size
#> 2 Mon, 20 Nov 2017 14:02:04 +0000  296 lines
#> 3 Mon, 13 Nov 2017 19:57:46 -0500  298 lines
#> 4  Tue, 7 Nov 2017 08:02:25 -0800  212 lines
#> 5  Wed, 1 Nov 2017 18:32:03 +0300  219 lines
#> 6 Tue, 14 Nov 2017 00:58:12 -0500  259 lines
#> 7 Wed, 15 Nov 2017 11:37:33 +0000 4273 lines
```

Now, we can use the function `socnet_parse_subject` to actually get the data of a particular subject. Let's try with the subject titled `2018 Sunbelt Session on Urban Networks`

``` r
socnet_parse_subject(subjects$url[1])
#> $meta
#>                                  Subject 
#> "2018 Sunbelt Session on Urban Networks" 
#>                                     From 
#> "\"Neal, Zachary\" <[log in to unmask]>" 
#>                                 Reply-To 
#>                          "Neal, Zachary" 
#>                                     Date 
#>        "Mon, 20 Nov 2017 14:02:04 +0000" 
#>                             Content-Type 
#>                  "multipart/alternative" 
#>                        Parts/Attachments 
#>                     "Parts/Attachments:" 
#> 
#> $contents
#>  [1] "Content-Type: text/html"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
#>  [2] ""                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
#>  [3] "*****  To join INSNA, visit http://www.insna.org  *****"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
#>  [4] ""                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
#>  [5] "Call for Submissions -"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             
#>  [6] "Session on “Urban Networks”"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
#>  [7] "38th Sunbelt Conference"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
#>  [8] ""                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
#>  [9] "As the majority of people now live in cities, cities are a key location for many social and economic activities, which can frequently be examined through a network lens. Urban networks exist at a range of scales, from neighborhood-level social networks among people, to city-level transportation networks, to global-level economic networks between cities. Additionally, urban networks are studied by network scientists from a range of disciplinary perspectives including geography, sociology, physics, and engineering. The study of \"urban networks\" has grown rapidly in the last decade and had led to both specialized conferences and journal special issues. This rapid growth in the size, scope, and scale of urban network research has left the area invigorated, but without a clear agenda for future work. This session will showcase an interdisciplinary range of substantive and methodological work on urban networks, with the aim of identifying future directions for this field."                                                                                                                                                                             
#> [10] ""                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
#> [11] "One or more sessions at the 2018 International Network for Social Network Analysis (INSNA) Sunbelt Conference will focus on Urban Networks. The conference will take place June 26 – July 1 in Utrecht, Netherlands. Abstracts for 20-minute paper presentations can be submitted at https://urldefense.proofpoint.com/v2/url?u=https-3A__sunbelt.sites.uu.nl_abstract-2Dsubmission_&d=DwIGaQ&c=pZJPUDQ3SB9JplYbifm4nt2lEVG5pWx2KikqINpWlZM&r=uXI5O6HThk1ULkPyaT6h2Ws3RKNKSY__GQ4DuS9UHhs&m=rppl8eah4HJHGYE3LxOPjGGJVxLjMAWPU5OB6NpmlTA&s=ifXwFWa_GH_INtZq8KFvZglqT1xAO_beImTXdXLYbwM&e= . Submissions are due 1 February 2018, and authors of accepted papers will be notified by March 2018. Please contact <a href=\"/cgi-bin/wa?LOGON=A3%3Dind1711%26L%3DSOCNET%26E%3DQuoted-printable%26P%3D1748842%26B%3D--_000_41E090B03C6345B6AD0F703BCE918D40msuedu_%26T%3Dtext%252Fplain%3B%2520charset%3Dutf-8\" >[log in to unmask]</a><mailto:<a href=\"/cgi-bin/wa?LOGON=A3%3Dind1711%26L%3DSOCNET%26E%3DQuoted-printable%26P%3D1748842%26B%3D--_000_41E090B03C6345B6AD0F703BCE918D40msuedu_%26T%3Dtext%252Fplain%3B%2520charset%3Dutf-8\" >[log in to unmask]</a>> with questions about the session."
#> [12] ""                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
#> [13] "Please visit urbannetworks.org<https://urldefense.proofpoint.com/v2/url?u=http-3A__urbannetworks.org&d=DwIGaQ&c=pZJPUDQ3SB9JplYbifm4nt2lEVG5pWx2KikqINpWlZM&r=uXI5O6HThk1ULkPyaT6h2Ws3RKNKSY__GQ4DuS9UHhs&m=rppl8eah4HJHGYE3LxOPjGGJVxLjMAWPU5OB6NpmlTA&s=Qw-sJS8TZehbeUvqO2li-HMvD2-CC04_qi3J8V6NiEw&e= > for additional opportunities to share research on urban networks, including:"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
#> [14] "- Submitting to a forthcoming special issue of Networks and Spatial Economics"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
#> [15] "- Submitting to a forthcoming special issue of Journal of Urban Affairs"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
#> [16] ""                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
#> [17] "–––"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
#> [18] "Zachary Neal, PhD"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
#> [19] "Associate Professor, Department of Psychology"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
#> [20] "Managing Editor, Journal of Urban Affairs"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
#> [21] "Associate Editor, Evidence and Policy"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
#> [22] "Michigan State University"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
#> [23] "316 Physics Road, Rm 262"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
#> [24] "East Lansing, MI 48824"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             
#> [25] "Personal: https://urldefense.proofpoint.com/v2/url?u=http-3A__www.msu.edu_-7Ezpneal&d=DwIGaQ&c=pZJPUDQ3SB9JplYbifm4nt2lEVG5pWx2KikqINpWlZM&r=uXI5O6HThk1ULkPyaT6h2Ws3RKNKSY__GQ4DuS9UHhs&m=rppl8eah4HJHGYE3LxOPjGGJVxLjMAWPU5OB6NpmlTA&s=ayvBD3wKOvkqzrRlX6tYRkDamF0nr3Xtzu9ab9RYul8&e= "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
#> [26] "MiSPI Project: https://urldefense.proofpoint.com/v2/url?u=http-3A__mispi.psy.msu.edu&d=DwIGaQ&c=pZJPUDQ3SB9JplYbifm4nt2lEVG5pWx2KikqINpWlZM&r=uXI5O6HThk1ULkPyaT6h2Ws3RKNKSY__GQ4DuS9UHhs&m=rppl8eah4HJHGYE3LxOPjGGJVxLjMAWPU5OB6NpmlTA&s=biCaCXPfZvjNnW8dGIYn_mgyZC4KDgieEdqbXzqS4Oc&e= "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
#> [27] "Twitter: @zpneal"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
#> [28] ""                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
#> [29] ""                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
#> [30] "_____________________________________________________________________"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
#> [31] "SOCNET is a service of INSNA, the professional association for social"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
#> [32] "network researchers (http://www.insna.org). To unsubscribe, send"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
#> [33] "an email message to <a href=\"/cgi-bin/wa?LOGON=A3%3Dind1711%26L%3DSOCNET%26E%3DQuoted-printable%26P%3D1748842%26B%3D--_000_41E090B03C6345B6AD0F703BCE918D40msuedu_%26T%3Dtext%252Fplain%3B%2520charset%3Dutf-8\" >[log in to unmask]</a> containing the line"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
#> [34] "UNSUBSCRIBE SOCNET in the body of the message."                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
#> [35] ""
```

As you can see, the function returned a list with two elements, a vector of meta information, and the actual email.
